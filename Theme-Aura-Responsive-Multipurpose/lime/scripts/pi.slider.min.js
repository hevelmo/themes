function PiSlider(el,options){var o={},$=jQuery;return o.$el=el,o.s={speed:2e3,slideDelay:35,autoplayDelay:0,preload:0,preloadDelay:1e3,action:"fade",circular:0,enableArrows:0,enablePagination:0,enableSwipes:0,enableKeys:0,c:{pane:"pi-slider",paneWrapper:"pi-slider-wrapper",paneFast:"pi-slider-fast",slide:"pi-slide",slideTransparent:"pi-slide-transparent",pagination:"pi-slider-pagination",page:"pi-slider-page",arrow:"pi-slider-arrow",arrowLeft:"pi-slider-arrow-left",arrowRight:"pi-slider-arrow-right",slideActive:"pi-slide-active",pageActive:"pi-slider-page-active",arrowActive:"pi-slider-arrow-active",arrowDisabled:"pi-slider-arrow-disabled"},debug:0},options&&$.extend(o.s,options),o.init=function(){o.$doc=$(document),o.cssTransisions=1,o.$paneWrapper=o.$el.parents("."+o.s.c.paneWrapper).eq(0),o.$pane=o.$el.hasClass(o.s.c.pane)?o.$el:o.$el.find("."+o.s.c.pane),o.$slides=o.$el.find("."+o.s.c.slide),o.autoPlayInterval=0,o.slidesQ=o.$slides.length,o.slidesQ<=0||(o.slideWidth=o.$slides.eq(0).width(),o.slideOuterWidth=o.$slides.eq(0).outerWidth(),o.slideMargin=(o.slideOuterWidth-o.slideWidth)/2,o.slidesWidth=o.slideOuterWidth*o.slidesQ,o.sceneWidth=o.$paneWrapper.width(),o.margin=(o.sceneWidth-o.slideWidth)/2,o.way=o.slideWidth-o.margin,o.slidesTransparent=[],o.current=-1,o.s.debug&&(console.log("SCENE"+o.sceneWidth),console.log("MARGIN"+o.margin),console.log("WAY"+o.way)),o.beforeStart(),o.addSwipeActions())},o.beforeStart=function(){if(o.s.preload){new PiImagesLoader(o.$paneWrapper,o.start,o.s.preloadDelay)}else o.start()},o.start=function(){if(o.s.enablePagination&&o.slidesQ>1){o.$paneWrapper.append('<div class="'+o.s.c.pagination+'"></div>'),o.$pagination=o.$paneWrapper.find("."+o.s.c.pagination);var n=0;o.$slides.each(function(){active=0==n?o.s.c.pageActive:"",o.$pagination.append('<span class="'+o.s.c.page+" "+active+'"><span></span></span>'),n++}),o.$pages=o.$pagination.find("."+o.s.c.page),o.$pages.click(function(){var n=$(this).index();o.current!=n&&o.applyAnimation(n)}),"slide"==o.s.action&&o.prepareSlides()}o.s.enableArrows&&o.slidesQ>1&&(o.$paneWrapper.append('<div class="'+o.s.c.arrow+" "+o.s.c.arrowLeft+' "><span></span></div>'),o.$paneWrapper.append('<div class="'+o.s.c.arrow+" "+o.s.c.arrowRight+' "><span></span></div>'),o.$leftArrow=o.$paneWrapper.find("."+o.s.c.arrowLeft),o.$rightArrow=o.$paneWrapper.find("."+o.s.c.arrowRight),o.s.circular||o.$leftArrow.addClass(o.s.c.arrowDisabled),o.$leftArrow.click(function(){o.toPrev()}),o.$rightArrow.click(function(){o.toNext()})),o.s.enableKeys&&o.slidesQ>1&&o.$doc.keydown(function(e){"37"==(e.keyCode||e.which)?o.toPrev():"39"==(e.keyCode||e.which)&&o.toNext()}),o.applyAnimation(0),o.s.autoplayDelay&&o.startAutoplay(),o.resizeGallery()},o.applyAnimation=function(n,f){f||(f=0),"slide"==o.s.action?o.moveSlide(n,f):"fade"==o.s.action&&o.fadeSlide(n),o.current=n,o.checkArrowsState(n),o.checkPagesState(n)},o.checkPagesState=function(n){o.s.enablePagination&&o.slidesQ>1&&(o.$pages.removeClass(o.s.c.pageActive),o.$pages.eq(n).addClass(o.s.c.pageActive))},o.checkArrowsState=function(n){o.s.enableArrows&&o.slidesQ>1&&!o.s.circular&&(0==n?o.$leftArrow.addClass(o.s.c.arrowDisabled):o.$leftArrow.removeClass(o.s.c.arrowDisabled),n==o.slidesQ-1?o.$rightArrow.addClass(o.s.c.arrowDisabled):o.$rightArrow.removeClass(o.s.c.arrowDisabled))},o.moveSlide=function(n,f){var fast=f||0,speed=fast?0:o.s.speed,$prev=o.$slides.eq(o.current),$next=o.$slides.eq(n);$prev.removeClass(o.s.c.slideActive),o.cssTransisions?($prev.css({"-webkit-transform":"translateX("+-o.slideOuterWidth+"px)","-moz-transform":"translateX("+-o.slideOuterWidth+"px)","-o-transform":"translateX("+-o.slideOuterWidth+"px)",transform:"translateX("+-o.slideOuterWidth+"px)"}),$next.addClass("pi-no-transitions").css({"-webkit-transform":"translateX("+o.slideOuterWidth+"px)","-moz-transform":"translateX("+o.slideOuterWidth+"px)","-o-transform":"translateX("+o.slideOuterWidth+"px)",transform:"translateX("+o.slideOuterWidth+"px)"}),setTimeout(function(){$next.removeClass("pi-no-transitions").addClass(o.s.c.slideActive).css({"-webkit-transform":"translateX(0px)","-moz-transform":"translateX(0px)","-o-transform":"translateX(0px)",transform:"translateX(0px)"})},10)):($prev.stop().animate({left:-o.slideOuterWidth,opacity:0},speed,"easeInOutExpo",function(){$(this).css({left:o.slideOuterWidth})}),$next.stop().animate({left:0,opacity:1},speed,"easeInOutExpo"),$next.addClass(o.s.c.slideActive))},o.fadeSlide=function(n){var $prev=o.$slides.eq(o.current),$next=o.$slides.eq(n);$prev.removeClass(o.s.c.slideActive),$next.addClass(o.s.c.slideActive),o.cssTransisions||$next.stop().animate({opacity:1},o.s.speed,"easeOutQuad",function(){$prev.fadeTo(0,0)})},o.prepareSlides=function(){o.$slides.each(function(i){0!=i&&$(this).css(o.cssTransisions?{"-webkit-transform":"translateX("+o.slideOuterWidth+"px)","-moz-transform":"translateX("+o.slideOuterWidth+"px)","-o-transform":"translateX("+o.slideOuterWidth+"px)",transform:"translateX("+o.slideOuterWidth+"px)"}:{left:o.slideOuterWidth+"px"})})},o.toNext=function(){o.current<o.slidesQ-1?o.applyAnimation(o.current+1):o.s.circular&&o.applyAnimation(0)},o.toPrev=function(){o.current>0?o.applyAnimation(o.current-1):o.s.circular&&o.applyAnimation(o.slidesQ-1)},o.startAutoplay=function(){o.autoPlayInterval=setInterval(function(){o.toNext()},o.s.autoplayDelay)},o.stopAutoplay=function(){clearInterval(o.autoPlayInterval)},o.resizeGallery=function(){},o.addSwipeActions=function(){o.s.enableSwipes&&$.fn.swipe&&"function"==typeof $.fn.swipe&&o.$pane.swipe({swipeStatus:function(event,phase,direction){"end"==phase&&("left"==direction?o.toNext():"right"==direction&&o.toPrev())},allowPageScroll:"vertical",excludedElements:""})},o.init(),o}